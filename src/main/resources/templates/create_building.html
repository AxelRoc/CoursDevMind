<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Getting Started: Serving Web Content</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
</head>
<body>

<script src="https://unpkg.com/vue"></script>
<script src="https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://unpkg.com/mqtt/dist/mqtt.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.js" type="text/javascript"></script>


<div id="create_building">

    <nav class="navbar navbar-default">
        <div class="container-fluid">
            <div class="navbar-header">
                <a class="navbar-brand" href="#">Philips Hue Control Platform</a>
            </div>
            <ul class="nav navbar-nav">
                <li class="active"><a href="/">Home</a></li>
                <li><a href="/create_building">Create Building</a></li>
                <li><a href="/create_room">Create Room</a></li>
                <li><a href="/create_light">Create Light</a></li>
            </ul>
        </div>
    </nav>

    <h1>Create a building</h1>
    <input v-model="building_name" placeholder="Enter a building name"></input>
    <button href="/" @click="createBuilding()" class="btn btn-light">create</button>
    <p>{{message}}</p>
</div>

<script>

var url = "http://localhost:8080/api"

var building_vue = new Vue({

  el: '#create_building',
  data: {
  building_name: '',
  message: ''
  },
  methods: {

  createBuilding: function(){
    var create_building_url = url + "/buildings"
    var string_post = '{"name": "'+ this.building_name + '"}';
    var json_post = JSON.parse(string_post);

    axios.post(create_building_url,json_post);

    this.building_name = '';
    this.message = 'the building has been added';
  }

}})

</script>



</body>
</html>